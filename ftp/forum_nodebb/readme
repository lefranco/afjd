
============================
docker compose exec mongodb bash

mongosh -u admin -p admin123

use nodebb
=> switched...

db.createUser({
  user: "nodebb",
  pwd: "nodebb123",
  roles: [
    { role: "readWrite", db: "nodebb" }
  ]
})

=> { ok: 1 }

db.auth("nodebb", "nodebb123")

=> { ok: 1 }

quit()


============================
docker compose exec nodebb ./nodebb setup

ENONENT normal about '/app/nodebb/package.json' ???

wait 1-2 minute

site https://forum.diplomania2.fr
secret secret
submit no
database mongo
MongoDB connection URI  mongodb://nodebb:nodebb123@mongodb:27017/nodebb

[  dbIP mongodb
  dbport 27017
  db username nodebb
  db password nodebb123
  db name nodebb ]

AdministratorUsername admin
AdministratorEmail postmaster@diplomania2.fr
AdministratorPassword admin123

============================
docker compose exec nodebb nano /app/nodebb/config.json

copy / paste : 

{
    "url": "https://forum.diplomania2.fr",
    "secret": "secret",
    "database": "mongo",
    "mongo": {
        "host": "mongodb",
        "port": "27017",
        "username": "nodebb",
        "password": "nodeb123",
        "database": "nodebb",
        "uri": "mongodb://nodebb:nodebb123@mongodb:27017/nodebb"
    },
    "port": 4567,
    "bind_address": "0.0.0.0",
    "use_port": false,
    "socketio": {
        "origins": "https://forum.diplomania2.fr:*"
    },
    "relative_path": ""
}


============================
docker compose exec nodebb ./nodebb start

