============================
before re installs

sudo rm -fr data/mongodb/*
sudo rm -fr data/mongodb/.*

sudo rm -fr data/nodebb/uploads/*
sudo rm -fr data/nodebb/uploads/.*

sudo chown 999 data/mongodb
sudo chown 999 data/nodebb

============================
docker compose exec mongodb bash

mongosh -u admin -p admin123

use nodebb
=> switched...

db.createUser({
  user: "nodebb",
  pwd: "nodebb123",
  roles: [
    { role: "readWrite", db: "nodebb" }
  ]
})

=> { ok: 1 }

db.auth("nodebb", "nodebb123")

=> { ok: 1 }

quit()

============================
docker compose exec nodebb ./nodebb setup
(ignore ENOENT error)
(takes some time)

============================
docker compose exec nodebb nano /app/nodebb/config.json
insert after "port": 4567:

    "bind_address": "0.0.0.0",
    "trust_proxy": true,
    "trust_proxy_header": "x-forwarded-for",
    "trust_proxy_proto": true,
    "trust_proxy_host": true,

============================
docker compose exec nodebb ./nodebb start
docker compose exec nodebb ./nodebb status
(must be running)
docker compose exec nodebb ./nodebb log + CtrlC

============================
navigator goto https://forum.diplomania2.fr/admin

for importation :
    - settings/uploads "Allowed File Extensions" : add pdf and zip + save changes
    - docker compose exec -it nodebb  bash
        nano src/api/helpers.js
        comment out line 16 "data.timestamp = Date.now();"
        docker compose exec nodebb ./nodebb stop
        docker compose exec nodebb ./nodebb build
        docker compose exec nodebb ./nodebb start

