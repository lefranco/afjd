<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta name="description" content="Pour jouer à Diplomatie en ligne sur le moteur de l'AFJD">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Jeu Diplomatie en ligne</title>

  <!-- Brython -->
  <script src="brython.js"></script>
  <script src="brython_modules.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/dialog.css">
  <link rel="stylesheet" type="text/css" href="css/spinner.css">
</head>

<body onload="brython()">

  <!-- Spinner -->
  <div id="spinner">
    <span class="pyspinner">Chargement en cours... merci de patienter un peu...</span>
  </div>

  <!-- just calling python  -->
  <script type="text/python">
    import index
  </script>

  <!-- store VERSION with fetch (asynchrone, not blocking) -->
  <script>
    fetch('brython_modules.js', { method: 'HEAD' })
      .then(response => response.headers.get('Last-Modified'))
      .then(date => localStorage.setItem('VERSION', date))
      .catch(err => console.warn('Impossible de récupérer VERSION', err));
  </script>

</body>
</html>
